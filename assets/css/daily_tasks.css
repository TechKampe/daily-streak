/* KÃ¤mpe - CSS Framework v2.4 */
/* https://techkampe.github.io/daily-streak/assets/css/daily_tasks.css */
/* Changes: Radio buttons for options, Modal with white bg + turquoise border */

:root{
--bg:#FFFFFF;--text:#1A1B2F;--turq:#00E6BC;--blue:#0B214A;--ok:#04FFB4;--err:#F9577E;--soft:#C5FFDF;--gray:#F5F5F5;--border:#E9FBF4;
--cardH:64px;--gap:10px;--ui-scale:1;--radius-btn:12px;--radius-card:14px;--padding-x:16px;--safe-top:80px;--safe-corner:100px;
--cellH:auto;--cellAR:1;--grid-cols:2;
--font:"Baloo 2",system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
}
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html{font-family:var(--font);font-size:16px;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}
body{background:var(--bg);color:var(--text);line-height:1.4;font-weight:500;overscroll-behavior:none}

/* Gameplay: NO scroll */
html.gameplay,html.gameplay body{overflow:hidden;height:100%;position:fixed;width:100%}
/* Results: scroll enabled */
html.results,html.results body{overflow-y:auto;overflow-x:hidden;height:auto;position:static}

/* Scene container */
.scene{display:flex;flex-direction:column;min-height:100vh;min-height:100svh;padding:var(--safe-top) var(--padding-x) 20px;padding-left:max(var(--padding-x),env(safe-area-inset-left));padding-right:max(var(--padding-x),env(safe-area-inset-right));padding-bottom:max(20px,env(safe-area-inset-bottom));background:var(--bg);transform:scale(var(--ui-scale));transform-origin:top center}
.scene.gameplay{height:100vh;height:100svh;max-height:100vh;max-height:100svh;overflow:hidden}
.scene.results{min-height:100vh;min-height:100svh;height:auto;overflow-y:auto}

/* Safe corner (100px top-right free) */
.scene::before{content:'';position:absolute;top:0;right:0;width:var(--safe-corner);height:var(--safe-corner);pointer-events:none}

@supports not (height:100svh){.scene{min-height:100dvh}.scene.gameplay{height:100dvh;max-height:100dvh}}
@supports not (height:100dvh){.scene{min-height:100vh}.scene.gameplay{height:100vh;max-height:100vh}}

/* HUD */
.hud{display:flex;flex-direction:column;gap:var(--gap);flex-shrink:0}
.hud-titles{display:flex;flex-direction:column;gap:4px}
.brand{font-size:clamp(18px,5vw,22px);font-weight:700;color:var(--text);line-height:1.2}
.subtitle{font-size:clamp(14px,4vw,16px);font-weight:500;color:var(--text);opacity:.85;line-height:1.3}
.progress-row{display:flex;align-items:center;justify-content:space-between;gap:12px}
.bar-wrap{display:flex;align-items:center;gap:8px;flex:1}
.bar-label{font-size:12px;font-weight:500;opacity:.7;white-space:nowrap}
.bar{flex:1;max-width:160px;height:10px;background:var(--border);border-radius:6px;overflow:hidden;border:1px solid var(--turq)}
.bar>i,.bar>span,.bar-fill{display:block;height:100%;background:linear-gradient(90deg,var(--turq),var(--ok));transition:width .3s ease;border-radius:6px}

/* Main content */
.main,.content,.board{flex:1;display:flex;flex-direction:column;gap:var(--gap);overflow:hidden;touch-action:none}
.cards,.options,.steps{display:flex;flex-direction:column;gap:8px;overflow:hidden}

/* Cards */
.card{display:grid;grid-template-columns:32px 1fr auto;align-items:center;gap:8px;min-height:var(--cardH);padding:8px 10px;border:1px solid var(--turq);border-radius:var(--radius-card);background:var(--bg);touch-action:none;user-select:none;transition:transform .15s,box-shadow .15s,border-color .2s,background .2s}
.card.dragging,.card.active{box-shadow:0 8px 20px rgba(0,230,188,.25);transform:scale(1.02);z-index:10}
.card.correct,.card.ok{border-color:var(--ok);background:linear-gradient(135deg,rgba(4,255,180,.1),var(--bg))}
.card.incorrect,.card.error,.card.err{border-color:var(--err);background:linear-gradient(135deg,rgba(249,87,126,.1),var(--bg))}
.card-num,.step-num{width:28px;height:28px;display:flex;align-items:center;justify-content:center;background:var(--soft);color:var(--blue);border-radius:8px;font-size:14px;font-weight:700;flex-shrink:0}
.card-text,.step-text{font-size:clamp(13px,3.8vw,15px);font-weight:500;color:var(--text);line-height:1.3;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}
.card-controls,.card-actions{display:flex;gap:6px;flex-shrink:0}

/* Buttons */
.cta,.btn-primary{width:100%;min-height:48px;padding:12px 20px;background:var(--blue);color:var(--turq);border:none;border-radius:var(--radius-btn);font-family:var(--font);font-size:clamp(15px,4.5vw,17px);font-weight:500;cursor:pointer;box-shadow:0 8px 18px rgba(11,33,74,.25);transition:transform .1s,box-shadow .1s;touch-action:manipulation}
.cta:active,.btn-primary:active{transform:translateY(2px);box-shadow:0 4px 10px rgba(11,33,74,.2)}
.cta:disabled,.btn-primary:disabled{opacity:.4;box-shadow:none;cursor:not-allowed}
.btn-ghost,.btn-secondary{width:40px;height:40px;min-width:40px;min-height:40px;display:flex;align-items:center;justify-content:center;background:var(--bg);border:1px solid var(--turq);border-radius:var(--radius-btn);color:var(--blue);font-family:var(--font);font-weight:500;font-size:18px;cursor:pointer;transition:transform .1s,background .1s;touch-action:manipulation;flex-shrink:0}
.btn-ghost:active,.btn-secondary:active{transform:translateY(1px);background:var(--border)}
/* Options with Radio Button */
.btn-option,.option{width:100%;min-height:52px;padding:12px 16px;background:var(--bg);border:1px solid var(--turq);border-radius:var(--radius-card);color:var(--text);font-family:var(--font);font-size:clamp(14px,4vw,16px);font-weight:500;text-align:left;cursor:pointer;transition:transform .1s,border-color .2s,background .2s;touch-action:manipulation;display:flex;align-items:center;gap:12px}
.btn-option:hover,.option:hover{background:#F7FFFC}
.btn-option:active,.option:active{transform:scale(.98)}
.btn-option.selected,.option.selected{border-color:var(--blue);background:#F0F4FF}
.btn-option.correct,.option.correct{border-color:var(--ok);background:linear-gradient(135deg,rgba(4,255,180,.15),var(--bg))}
.btn-option.incorrect,.option.incorrect{border-color:var(--err);background:linear-gradient(135deg,rgba(249,87,126,.15),var(--bg))}

/* Radio Circle */
.radio-circle{width:22px;height:22px;min-width:22px;border:2px solid var(--turq);border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .15s ease;flex-shrink:0;position:relative}
.radio-circle::after{content:'';width:8px;height:8px;background:var(--bg);border-radius:50%;opacity:0;transition:opacity .15s ease}
.option.selected .radio-circle,.btn-option.selected .radio-circle{border-color:var(--blue);background:var(--blue)}
.option.selected .radio-circle::after,.btn-option.selected .radio-circle::after{opacity:1}
.option.correct .radio-circle{border-color:var(--ok);background:var(--ok)}
.option.correct .radio-circle::after{opacity:1}
.option.incorrect .radio-circle{border-color:var(--err);background:var(--err)}
.option.incorrect .radio-circle::after{opacity:1}

/* Checkbox Square (for multiple selection) */
.checkbox-square{width:22px;height:22px;min-width:22px;border:2px solid var(--turq);border-radius:6px;display:flex;align-items:center;justify-content:center;transition:all .15s ease;flex-shrink:0}
.checkbox-square svg{width:14px;height:14px;opacity:0;transition:opacity .15s ease;stroke:var(--bg);stroke-width:3;fill:none}
.option.selected .checkbox-square,.btn-option.selected .checkbox-square{border-color:var(--blue);background:var(--blue)}
.option.selected .checkbox-square svg,.btn-option.selected .checkbox-square svg{opacity:1}

/* Option Text */
.option-text{flex:1;line-height:1.3;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}

/* Badges */
.badge,.tag,.label{display:inline-flex;align-items:center;justify-content:center;background:var(--soft);color:var(--blue);border-radius:var(--radius-btn);padding:6px 12px;font-size:13px;font-weight:500;white-space:nowrap}
.badge.ok,.badge.success{background:var(--ok);color:var(--blue)}
.badge.err,.badge.error{background:var(--err);color:var(--bg)}

/* Helper/Info */
.helper,.hint,.tip{font-size:13px;color:var(--text);background:var(--gray);border-radius:var(--radius-btn);padding:10px 12px;text-align:center;line-height:1.3}
.info,.info-box{background:var(--soft);color:var(--blue);border-radius:var(--radius-btn);padding:10px 12px;font-size:13px;line-height:1.3}
.alert,.warning{background:rgba(249,87,126,.15);color:var(--err);border:1px solid var(--err);border-radius:var(--radius-btn);padding:10px 12px;font-size:13px}

/* Footer */
.footer,.actions{display:flex;flex-direction:column;gap:var(--gap);flex-shrink:0;margin-top:auto;padding-top:var(--gap);position:sticky;bottom:0;background:var(--bg);padding-bottom:env(safe-area-inset-bottom,10px)}

/* Modals - White background with turquoise border */
.modal-backdrop,.overlay{position:fixed;inset:0;background:rgba(26,27,47,.6);display:flex;align-items:center;justify-content:center;padding:20px;z-index:100;opacity:0;visibility:hidden;transition:opacity .3s,visibility .3s}
.modal-backdrop.active,.overlay.active,.modal-backdrop.show,.overlay.show{opacity:1;visibility:visible}
.modal,.sheet{background:var(--bg);border:1px solid var(--turq);border-radius:var(--radius-card);padding:24px 20px;max-width:340px;width:100%;max-height:90svh;overflow-y:auto;box-shadow:0 10px 30px rgba(11,33,74,.15);transform:translateY(20px);transition:transform .3s}
.modal-backdrop.active .modal,.overlay.active .sheet{transform:translateY(0)}
.modal-title,.sheet-title{font-size:clamp(18px,5vw,22px);font-weight:700;color:var(--blue);margin-bottom:12px;text-align:center}
.modal-body,.sheet-body{font-size:14px;color:var(--text);line-height:1.5;margin-bottom:20px;opacity:.9}
.modal-actions,.sheet-actions{display:flex;flex-direction:column;gap:10px}
.modal-hint,.sheet-hint{background:var(--gray);border-radius:var(--radius-btn);padding:10px 12px;color:var(--text);font-size:13px;font-weight:500;text-align:center;line-height:1.3;margin-bottom:16px}
.modal-icon,.sheet-icon{font-size:32px;text-align:center;margin-bottom:8px}

/* Results */
.results{background:var(--bg)}
.results-header{text-align:center;padding:20px 0}
.results-title{font-size:clamp(22px,6vw,28px);font-weight:700;color:var(--text);margin-bottom:8px}
.results-score{font-size:clamp(40px,10vw,56px);font-weight:700;color:var(--turq)}
.results-subtitle{font-size:14px;color:var(--text);opacity:.7}
.results-list,.feedback-list{display:flex;flex-direction:column;gap:12px;margin:20px 0}
.result-item,.feedback-item{padding:12px;border-radius:var(--radius-card);border:1px solid var(--turq);background:var(--bg)}
.result-item.correct,.feedback-item.correct{border-color:var(--ok);background:linear-gradient(135deg,rgba(4,255,180,.08),var(--bg))}
.result-item.incorrect,.feedback-item.incorrect{border-color:var(--err);background:linear-gradient(135deg,rgba(249,87,126,.08),var(--bg))}
.result-question{font-weight:600;margin-bottom:6px}
.result-answer{font-size:13px;opacity:.85}
.result-explanation{font-size:12px;color:var(--text);opacity:.7;margin-top:8px;padding-top:8px;border-top:1px dashed var(--turq)}

/* Avatar */
.avatar{position:fixed;bottom:0;right:0;width:clamp(120px,30vw,180px);height:auto;opacity:.15;pointer-events:none;z-index:0}
.avatar.prominent{opacity:.25}

/* Icons */
.icon{width:20px;height:20px;flex-shrink:0}
.icon-sm{width:16px;height:16px}.icon-lg{width:24px;height:24px}
.icon-ok{color:var(--ok)}.icon-err{color:var(--err)}.icon-turq{color:var(--turq)}

/* Animations */
@keyframes bump{50%{transform:scale(.98)}}
@keyframes buzz{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-2px)}80%{transform:translateX(2px)}}
@keyframes pop{0%{transform:scale(.8);opacity:0}100%{transform:scale(1);opacity:1}}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}
@keyframes slideUp{from{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}
.anim-bump{animation:bump .15s ease}.anim-buzz{animation:buzz .3s ease}.anim-pop{animation:pop .3s ease}.anim-fade{animation:fadeIn .3s ease}.anim-slide{animation:slideUp .3s ease}

/* Compact mode */
.compact .brand{font-size:clamp(15px,4.2vw,18px)}.compact .subtitle{font-size:clamp(12px,3.5vw,14px)}.compact .progress-row{gap:8px}.compact .bar-label{display:none}.compact .bar{max-width:120px}
.compact .card{grid-template-columns:28px 1fr auto;min-height:56px;padding:6px 8px}.compact .card-num,.compact .step-num{width:24px;height:24px;font-size:12px}.compact .card-text,.compact .step-text{font-size:12px}
.compact .btn-ghost,.compact .btn-secondary{width:36px;height:36px;min-width:36px;min-height:36px;font-size:16px}.compact .helper,.compact .hint{font-size:12px;padding:8px 10px}.compact .cta{min-height:44px;font-size:14px}
.compact .badge{font-size:11px;padding:4px 8px}.compact .hud{gap:6px}.compact .footer{gap:8px}.compact .cards,.compact .options{gap:6px}
.compact .radio-circle{width:18px;height:18px;min-width:18px}.compact .radio-circle::after{width:6px;height:6px}
.compact .checkbox-square{width:18px;height:18px;min-width:18px}.compact .checkbox-square svg{width:12px;height:12px}
.compact .btn-option,.compact .option{min-height:46px;padding:10px 12px;gap:10px;font-size:13px}
.compact-xs .hud-titles{gap:2px}.compact-xs .progress-row{display:none}.compact-xs .badge{display:none}

/* Memory game grid */
.memory-grid{display:grid;grid-template-columns:repeat(var(--grid-cols),1fr);gap:8px;flex:1}
.memory-card{aspect-ratio:var(--cellAR);height:var(--cellH);background:var(--blue);border-radius:var(--radius-card);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:transform .3s;transform-style:preserve-3d}
.memory-card.flipped{transform:rotateY(180deg)}
.memory-card-front,.memory-card-back{position:absolute;width:100%;height:100%;backface-visibility:hidden;display:flex;align-items:center;justify-content:center;border-radius:var(--radius-card);padding:8px;font-size:clamp(11px,3vw,13px);text-align:center;line-height:1.2;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}
.memory-card-front{background:var(--blue);color:var(--turq)}
.memory-card-back{background:var(--bg);border:1px solid var(--turq);color:var(--text);transform:rotateY(180deg)}
.memory-card.matched .memory-card-back{border-color:var(--ok);background:var(--soft)}

/* Drag/drop zones */
.drop-zone{min-height:60px;border:2px dashed var(--turq);border-radius:var(--radius-card);display:flex;align-items:center;justify-content:center;padding:12px;transition:border-color .2s,background .2s}
.drop-zone.over,.drop-zone.highlight{border-color:var(--ok);background:rgba(4,255,180,.1)}
.drop-zone.filled{border-style:solid}

/* Sequence game */
.seq,.sequence{display:flex;flex-direction:column;gap:8px}
.seq-item{display:flex;align-items:center;gap:8px;padding:10px 12px;background:var(--bg);border:1px solid var(--turq);border-radius:var(--radius-card);cursor:grab}
.seq-item:active{cursor:grabbing}
.seq-item.placeholder{border-style:dashed;opacity:.5}

/* Timer */
.timer{display:flex;align-items:center;gap:6px;font-size:14px;font-weight:600;color:var(--blue)}
.timer.warning{color:var(--err)}
.timer-bar{height:4px;background:var(--border);border-radius:2px;overflow:hidden}
.timer-bar>span{display:block;height:100%;background:var(--turq);transition:width .1s linear}
.timer-bar.warning>span{background:var(--err)}

/* Stats */
.stats{display:flex;justify-content:center;gap:20px;padding:12px 0}
.stat{text-align:center}
.stat-value{font-size:clamp(20px,5vw,26px);font-weight:700;color:var(--turq)}
.stat-label{font-size:11px;color:var(--text);opacity:.7}

/* Intro */
.intro{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:20px}
.intro-icon{font-size:48px;margin-bottom:16px}
.intro-title{font-size:clamp(20px,5.5vw,26px);font-weight:700;color:var(--text);margin-bottom:12px}
.intro-text{font-size:14px;color:var(--text);opacity:.85;max-width:280px;line-height:1.5}

/* Accessibility */
a:focus-visible,button:focus-visible,.card:focus-visible,.option:focus-visible{outline:2px dashed var(--turq);outline-offset:2px}
@media(prefers-reduced-motion:reduce){*,*::before,*::after{animation-duration:.01ms!important;transition-duration:.01ms!important}}

/* Utilities */
.hidden{display:none!important}.invisible{visibility:hidden}
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}
.text-center{text-align:center}.text-left{text-align:left}.text-ok{color:var(--ok)}.text-err{color:var(--err)}.text-turq{color:var(--turq)}.text-muted{opacity:.7}
.flex{display:flex}.flex-col{flex-direction:column}.flex-center{align-items:center;justify-content:center}.flex-between{justify-content:space-between}.flex-1{flex:1}
.gap-sm{gap:6px}.gap-md{gap:10px}.gap-lg{gap:16px}
.mt-auto{margin-top:auto}.mb-md{margin-bottom:12px}
.line-clamp-1{-webkit-line-clamp:1}.line-clamp-2{-webkit-line-clamp:2}.line-clamp-3{-webkit-line-clamp:3}
.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}

/* Responsive */
@media(max-height:640px){:root{--safe-top:60px;--cardH:56px;--gap:8px}.scene{padding-top:60px}}
@media(max-height:580px){:root{--safe-top:50px;--cardH:50px;--gap:6px}}
@media(orientation:landscape) and (max-height:500px){:root{--safe-top:40px}.avatar{display:none}}
@media(min-width:768px){.scene{max-width:480px;margin:0 auto}}
